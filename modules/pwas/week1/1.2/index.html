<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.2 Concept Review | MAD9022</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" type="image/svg" href="/w2025/assets/javascript.svg">
    <link rel="shortcut icon" type="image/svg" href="/w2025/assets/javascript.svg">
    <meta name="description" content="Fullstack: Frontend Development Course">
    
    <link rel="preload" href="/w2025/assets/css/0.styles.33415ee0.css" as="style"><link rel="preload" href="/w2025/assets/js/app.87c858a9.js" as="script"><link rel="preload" href="/w2025/assets/js/2.ccdb61a5.js" as="script"><link rel="preload" href="/w2025/assets/js/33.3dc1268c.js" as="script"><link rel="preload" href="/w2025/assets/js/9.01890ce5.js" as="script"><link rel="preload" href="/w2025/assets/js/11.5fe5a40b.js" as="script"><link rel="prefetch" href="/w2025/assets/js/10.3e691a48.js"><link rel="prefetch" href="/w2025/assets/js/12.f49551e7.js"><link rel="prefetch" href="/w2025/assets/js/13.d5974a84.js"><link rel="prefetch" href="/w2025/assets/js/14.32f7e6e8.js"><link rel="prefetch" href="/w2025/assets/js/15.0ae027c8.js"><link rel="prefetch" href="/w2025/assets/js/16.f2386a1e.js"><link rel="prefetch" href="/w2025/assets/js/17.d7b9d534.js"><link rel="prefetch" href="/w2025/assets/js/18.7c15b945.js"><link rel="prefetch" href="/w2025/assets/js/19.51980183.js"><link rel="prefetch" href="/w2025/assets/js/20.d519c082.js"><link rel="prefetch" href="/w2025/assets/js/21.362f6b8c.js"><link rel="prefetch" href="/w2025/assets/js/22.afaf2123.js"><link rel="prefetch" href="/w2025/assets/js/23.cdc2c887.js"><link rel="prefetch" href="/w2025/assets/js/24.9b75b7c6.js"><link rel="prefetch" href="/w2025/assets/js/25.e357a328.js"><link rel="prefetch" href="/w2025/assets/js/26.6e814142.js"><link rel="prefetch" href="/w2025/assets/js/27.106c07bd.js"><link rel="prefetch" href="/w2025/assets/js/28.126c37bf.js"><link rel="prefetch" href="/w2025/assets/js/29.ca946c51.js"><link rel="prefetch" href="/w2025/assets/js/3.05989ff3.js"><link rel="prefetch" href="/w2025/assets/js/30.2ba498f6.js"><link rel="prefetch" href="/w2025/assets/js/31.e41d2241.js"><link rel="prefetch" href="/w2025/assets/js/32.cfce5625.js"><link rel="prefetch" href="/w2025/assets/js/34.a3793153.js"><link rel="prefetch" href="/w2025/assets/js/35.ab1290f2.js"><link rel="prefetch" href="/w2025/assets/js/36.3d9064e0.js"><link rel="prefetch" href="/w2025/assets/js/37.2ae4164b.js"><link rel="prefetch" href="/w2025/assets/js/38.195bef2c.js"><link rel="prefetch" href="/w2025/assets/js/39.a9904a96.js"><link rel="prefetch" href="/w2025/assets/js/4.79533d7f.js"><link rel="prefetch" href="/w2025/assets/js/40.1c93503b.js"><link rel="prefetch" href="/w2025/assets/js/41.61991e2b.js"><link rel="prefetch" href="/w2025/assets/js/42.87d5cabf.js"><link rel="prefetch" href="/w2025/assets/js/43.d8a479ef.js"><link rel="prefetch" href="/w2025/assets/js/44.8446907e.js"><link rel="prefetch" href="/w2025/assets/js/45.d1e73d03.js"><link rel="prefetch" href="/w2025/assets/js/46.14dd0c4d.js"><link rel="prefetch" href="/w2025/assets/js/47.6eae941d.js"><link rel="prefetch" href="/w2025/assets/js/48.4b257292.js"><link rel="prefetch" href="/w2025/assets/js/49.7c622f43.js"><link rel="prefetch" href="/w2025/assets/js/5.60adfd1c.js"><link rel="prefetch" href="/w2025/assets/js/50.5cc4788b.js"><link rel="prefetch" href="/w2025/assets/js/51.345ce69e.js"><link rel="prefetch" href="/w2025/assets/js/52.59f792c0.js"><link rel="prefetch" href="/w2025/assets/js/53.9344eea4.js"><link rel="prefetch" href="/w2025/assets/js/6.96402398.js"><link rel="prefetch" href="/w2025/assets/js/7.956989e6.js"><link rel="prefetch" href="/w2025/assets/js/8.62f5a92b.js">
    <link rel="stylesheet" href="/w2025/assets/css/0.styles.33415ee0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/w2025/" class="home-link router-link-active"><img src="/w2025/mad-d-logo-sm.png" alt="MAD9022" class="logo"> <span class="site-name can-hide">MAD9022</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/w2025/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/w2025/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/w2025/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/w2025/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/w2025/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/w2025/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hybrid</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>PWA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/w2025/modules/pwas/week1/1.1/" class="sidebar-link">1.1: Course Intro &amp; Review</a></li><li><a href="/w2025/modules/pwas/week1/1.2/" aria-current="page" class="active sidebar-link">1.2: Review Topics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#data-storage" class="sidebar-link">Data Storage</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#web-storage" class="sidebar-link">Web Storage</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#cookies" class="sidebar-link">Cookies</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#cache-api" class="sidebar-link">Cache API</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#chrome-dev-tools" class="sidebar-link">Chrome Dev Tools</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#array-methods-and-data-manipulation" class="sidebar-link">Array Methods and Data Manipulation</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#destructuring" class="sidebar-link">Destructuring</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#optional-chaining" class="sidebar-link">Optional Chaining</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#nullish-coalescing-operator" class="sidebar-link">Nullish Coalescing Operator</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#object-creation-and-prototypes" class="sidebar-link">Object Creation and Prototypes</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/pwas/week1/1.2/#todo-this-week" class="sidebar-link">ToDo This Week</a></li></ul></li><li><a href="/w2025/modules/pwas/week2/2.1/" class="sidebar-link">2.1: Single Page Applications</a></li><li><a href="/w2025/modules/pwas/week2/2.2/" class="sidebar-link">2.2: SPA &amp; Coding Practices</a></li><li><a href="/w2025/modules/pwas/week3/3.1/" class="sidebar-link">3.1: Workers &amp; Service Workers</a></li><li><a href="/w2025/modules/pwas/week3/3.2/" class="sidebar-link">3.2: Service Worker Events</a></li><li><a href="/w2025/modules/pwas/week4/4.1/" class="sidebar-link">4.1: Messaging</a></li><li><a href="/w2025/modules/pwas/week4/4.2/" class="sidebar-link">4.2: Intro to PWAs</a></li><li><a href="/w2025/modules/pwas/week5/5.1/" class="sidebar-link">5.1: PWAs Continued</a></li><li><a href="/w2025/modules/pwas/week5/5.2/" class="sidebar-link">5.2: IndexedDB &amp; Data</a></li><li><a href="/w2025/modules/pwas/week6/6.1/" class="sidebar-link">6.1: Hosting Projects</a></li><li><a href="/w2025/modules/pwas/week6/6.2/" class="sidebar-link">6.2: PWA Project</a></li><li><a href="/w2025/modules/pwas/week7/7.1/" class="sidebar-link">7.1: Git Pull Requests</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title red">
    PWA
  </div> <h1>1.2 Concept Review</h1> <div class="underdev no">Module Still Under Development</div></header> <h2 id="data-storage"><a href="#data-storage" class="header-anchor">#</a> Data Storage</h2> <p>First we need to remember why we store data on the client-side instead of the server-side.</p> <table><thead><tr><th style="text-align:left;">Client-Side Data</th> <th style="text-align:left;">Server-Side Data</th></tr></thead> <tbody><tr><td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">Available only from one device</td> <td style="text-align:left;">Available to all users potentially</td></tr> <tr><td style="text-align:left;">Tied to one domain</td> <td style="text-align:left;">Can be used across domains through an API</td></tr> <tr><td style="text-align:left;">Can be deleted by the user easily. User controls their own data.</td> <td style="text-align:left;">Requires controlled access to delete</td></tr> <tr><td style="text-align:left;">No guarantee that the information is kept. The browser is allowed to delete it.</td> <td style="text-align:left;">Server-side databases designed to permanently and redundantly store information.</td></tr> <tr><td style="text-align:left;">Not available directly by the server</td> <td style="text-align:left;">Controlled by the domain owner</td></tr></tbody></table> <p>All the different types of client-side storage can be seen in Chrome via the Developer Tools <code>Application</code> tab.</p> <h2 id="web-storage"><a href="#web-storage" class="header-anchor">#</a> Web Storage</h2> <p>Web Storage is the collective name for both SessionStorage and LocalStorage.</p> <p>The <code>sessionStorage</code> object and the <code>localStorage</code> object hold a collection of name value pairs. The names are all Strings. The values can be any of these primitives - String, Number, Boolean, or null.</p> <p>The memory for saving web storage is attached to a specific origin (like https://www.example.com/).</p> <p>In practical usage, the values are almost always Strings. As Strings, they can contain a JSON string. This means that we can hold Arrays and Objects too.</p> <p>The difference between session and local storage is the amount of time that the data is held. localStorage data will be held for roughly two weeks (depending on the browser and the amount of available storage data). sessionStorage will be deleted after the tab is closed, or possibly when the user navigates away from the website.</p> <p>If you are in Private mode on Firefox or Incognito mode in Chrome, then localStorage will be treated like sessionStorage.</p> <div class="custom-block tip"><p class="custom-block-title">Keypoint for LocalStorage</p> <p>While we can access localStorage and sessionStorage at any time, it can be a memory and/or processor intensive task. So, when storing JSON data in web storage, we should read the value from web storage when the page loads. Then use a global variable to hold that value for use while the user interacts with the page.</p> <p>After the initial read, the only other time we need to access the web storage is if it needs to be updated.</p> <p>All the work on the page having to do with the data and the UI, should be done with the global variable. The global variable is your Single Source of Truth.</p></div> <p>You can read more about web storage <a href="https://mad9014.github.io/f2024/modules/browser-js/week12/storage/#web-storage-api" target="_blank" rel="noopener noreferrer">in the mad9014 notes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="cookies"><a href="#cookies" class="header-anchor">#</a> Cookies</h2> <p>Cookies work in the browser as a way to track users. You can create things like session ids and save them as a cookie. Like web storage, it is a series of name value pairs. However, the amount of data that you can save is much less. 2000 characters is a typical limit for the cookies for an origin.</p> <p>In addition to the name value pairs, each cookie has a series of other settings like path, max-age, secure, and same-site. These settings control when the cookie is allowed to be accessed by JavaScript.</p> <p>Like web storage, the cookies belong to a specific origin.</p> <p>Unlike web storage, the cookie strings are actually kept in the headers for Request and Response objects for the HTML file that the user is visiting. If we go to the network tab in Chrome dev tools, and we click on the request for the HTML file, then inside the request or response headers you might see a header called <code>set-cookie</code> or <code>set-cookie2</code>. If you go to the Application tab in the Chrome dev tools you will find a section for Cookies. Inside that you can see all the cookies and their values and settings for the current origin.</p> <p>To set a cookie or read a cookie from JS, you are just interacting with a string value of the <code>document.cookie</code> property.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'key=value;path=/;domain=127.0.0.1:5500;max-age=30000;secure;samesite'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Most of the time, cookies are set as headers from the server-side script that is sending the HTML file to the browser. It is rare for developers to be setting cookies in JavaScript.</p> <p>You can read more about <a href="https://mad9014.github.io/f2024/modules/browser-js/week11/security/#cookies" target="_blank" rel="noopener noreferrer">cookies in the mad9014 notes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div title="Understanding Browser Cookies" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/j0PpT96EFeg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="cache-api"><a href="#cache-api" class="header-anchor">#</a> Cache API</h2> <p>There are different kinds of Caching that are used on websites including:</p> <ol><li>Browser HTTP Caching with cache-control headers.</li> <li>Proxy Server Caching with CDNs.</li> <li>Server-side Caching with NodeJS on the Server.</li> <li>Cache API for developers in the browser.</li></ol> <p>Every browser has a built-in Cache. As a user navigates from one site to another, the browser saves copies of files for the next visit to the same url. There is no access to this cache via JavaScript. The browser uses values in the Response headers to decide how long to cache copies of the files for.</p> <p>In the Chrome Dev Tools, on the Network tab there is a checkbox at the top that says &quot;disable cache&quot;. This checkbox is referring to the browser cache. This process is called HTTP Caching. Sometimes it will be referred to as look back cache. Regardless of the name, it is controlled by the browser, not the scripts. The user only has the ability to clear out the cache.</p> <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener noreferrer">Cache-Control Header<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a header that is sent from the server or proxy-server to the client along with a requested file. It tells the browser how to handle the caching of the requested file and how long it should be considered valid before requesting a new copy of the file.</p> <p>The name of the header is <code>cache-control</code> and it can hold a variety of directives. Here are a few examples of the header showing some of the directives.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Cache-Control: max-age=604800
Cache-Control: no-cache
Cache-Control: max-age=604800, must-revalidate
Cache-Control: no-store
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Proxy Servers like <strong>JSDelivr</strong>, <strong>Fastly</strong>, <strong>Akamai</strong>, and <strong>Cloudflare</strong> are CDN (Content Delivery Networks) for high traffic sites. The site owners can pay the proxy server companies to hold copies of their site content on multiple servers that are spread across the globe. Doing this will improve the site performance for users.</p> <p>Server-side caching is beyond the scope of this course, but you can do things on the server that are similar to the Cache API to cache files on the server, to improve server performance for websites.</p> <p>The other type of Caching is the Cache API. This one is controlled by JavaScript. The developer gets to decide what files are stored and for how long. This will allow the developer to create websites that can continue to run locally when they are offline. The Cache API is often used in conjunction with Service Workers to create Progressive Web Apps (PWA). We will be doing this in the coming weeks.</p> <p>To work with the Cache API, there are four objects that you need to be able to use - <code>CacheStorage</code>, <code>Cache</code>, <code>Request</code>, and <code>Response</code>. <code>window.caches</code> is the built-in reference to the <code>CacheStorage</code>. The <code>caches.open()</code> method lets us get a reference to an individual <code>Cache</code> object.</p> <p>Inside each <code>Cache</code> object is a collection of name value pairs. All of the names are <code>Request</code> objects. All the values are <code>Response</code> objects. These are the same Request and Response objects that we deal with when making fetch calls.</p> <p>The <code>caches</code> object has the following methods. <code>caches</code> is a property of the <code>window</code> object (and worker scope object).</p> <ul><li><code>caches.open(&quot;cachename&quot;)</code> returns a Promise that resolves to a reference for a single cache.</li> <li><code>caches.keys()</code> returns a Promise that resolves to an array of cache names</li> <li><code>caches.match(request)</code> returns a Promise that resolves to a Response object or null if there is no matching Request in <strong>any</strong> of the caches</li></ul> <p>The single <code>cache</code> object has the following methods. This is not a built-in property. It is an object referenced through the <code>caches.open</code> method.</p> <ul><li><code>cache.keys()</code> returns an array of all the keys (names) for the single cache.</li> <li><code>cache.add(request)</code> fetch a request and save the response to the single cache.</li> <li><code>cache.addAll([requestArray])</code> fetch an array of requests and save the responses to the single cache.</li> <li><code>cache.put(request, response)</code> save a response to the single cache using the request as the key.</li> <li><code>cache.match(request)</code> find a response that matches the request in the single cache.</li> <li><code>cache.matchAll(request, options)</code> returns a Promise that resolves to an array of any responses that match the request in the single cache. Requests can have different params like querystring or HTTP Method. The <code>options</code> parameter lets us set these as true or false, like this:</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">'https://www.example.com/folder/page.html?name=value&amp;id=123'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cache
  <span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">ignoreSearch</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// match any querystring values</span>
    <span class="token literal-property property">ignoreMethod</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// match any HTTP method</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">matches</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//matches is an array of all possible responses</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">Keypoint for Cache API</p> <p>All the cache methods return a Promise.</p></div> <h3 id="list-of-files-in-cache"><a href="#list-of-files-in-cache" class="header-anchor">#</a> List of Files in Cache</h3> <p>The Cache API also includes a <code>keys()</code> method which returns a <code>Promise</code> that will resolve to an Array of <code>Response</code> objects inside the selected cache.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>caches
  <span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">keys</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//keys is the array of responses in the `cache`.</span>
    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//output the url of the request</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>warn<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>If you want to retrieve a file you can always use the <code>cache.match()</code> method. If you want to retrieve multiple files then you can use the <code>cache.matchAll()</code> method.</p> <h3 id="delete-caches-or-files"><a href="#delete-caches-or-files" class="header-anchor">#</a> Delete Caches or Files</h3> <p>To delete a single file from the cache need a reference to the cache that contains the file and then, with the name of the file call the <code>delete</code> asynchronous method.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">deleteFile</span><span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  caches
    <span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//deleting ONE file from ONE cache</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//delete is complete</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>However, if you plan to delete multiple files from the cache then you need to wait for all the deletes to be successful. In these cases, <code>Promise.all()</code> is the approach you need. The <code>Promise.all</code>
method expects to be passed an array of promises. So, an array of calls to <code>cache.delete()</code> would be this.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//delete these three files from the cache &quot;cacheName&quot;</span>
<span class="token keyword">let</span> filesToDelete <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one.jpg'</span><span class="token punctuation">,</span> <span class="token string">'two.html'</span><span class="token punctuation">,</span> <span class="token string">'three.css'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

caches
  <span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'cacheName'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
      filesToDelete<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//returning an array of 3 promises</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//successfully deleted all those files</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>warn<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>NOTE: If <code>caches.keys()</code> is called, on the <code>caches</code> object, then the Array contains a list of the cache names. If <code>cache.keys()</code> is called then the Array will contain a list of the <code>Request</code> objects in that specific cache.</p></blockquote> <p>If you are looking to delete one or more caches, not just individual files, then you can use the same approach with the <code>Promise.all()</code> around the call to <code>caches.keys()</code> and then a <code>filter().map()</code> to delete multiple caches. In the following example, the variables <code>cache1</code> and <code>cache2</code> will represent the names of two different caches that might exist on the user's computer.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//to delete multiple caches except the ones</span>
<span class="token comment">// in cache1 and cache2</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
  caches<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">keys</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">nm</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> nm <span class="token operator">!==</span> cache1 <span class="token operator">&amp;&amp;</span> nm <span class="token operator">!==</span> cache2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">nm</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> caches<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>nm<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//keys.filter() returns an array of cache names to call map on</span>
    <span class="token comment">//then .map() is returning an array of Promises - caches.delete(nm)</span>
    <span class="token comment">//each call to caches.delete(nm) is deleting a whole cache</span>
    <span class="token comment">//this array of promises is returned to Promise.all()</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>You can read more about <a href="https://mad9014.github.io/f2024/modules/browser-js/week12/storage/#cache-api" target="_blank" rel="noopener noreferrer">the Cache API in the mad9014 notes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="chrome-dev-tools"><a href="#chrome-dev-tools" class="header-anchor">#</a> Chrome Dev Tools</h2> <p>Here is a short video that outlines all the Chrome Dev Tools that you could use to work with all the data storage and file apis.</p> <div title="chrome dev tools - Data and File Storage" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/0JY4oQD66L4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="array-methods-and-data-manipulation"><a href="#array-methods-and-data-manipulation" class="header-anchor">#</a> Array Methods and Data Manipulation</h2> <p>When we are fetching JSON data from a server we will often end up with Arrays that are much larger than we need, or that contain objects with properties that we don't want, or that are not sorted. The JavaScript Array objects have many methods that will help us to manipulate and optimize our data before we use it as part of our website.</p> <p>See the notes <a href="https://mad9014.github.io/f2024/modules/core-js/week4/arrays/" target="_blank" rel="noopener noreferrer">in MAD9014 on Arrays<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more details.</p> <p>Here is a short summary of the methods that you will use most commonly. This is NOT an exhaustive list, and it is not in any particular order.</p> <p><strong>arr.forEach(func)</strong> calls the same function once for each item in the array. The function will be passed a reference to each object or copy of each primitive value in the array, as well as the index number for each item, and a reference to the original array. The function return value will be ignore. Similar use case to a basic for loop.</p> <p><strong>arr.map(func)</strong> calls the same function once for each item in the array, just like <code>forEach</code>. The function will be passed the same three parameters. The difference is that it creates a new array using the return values of each function call as the new array values.</p> <p><strong>arr.filter(func)</strong> calls the same function once for each item in the array, just like <code>forEach</code>. The function will be passed the same three parameters. The difference is that the function needs to return a truthy or falsey value. Those truthy or falsey values are used to decide whether the original array items are copied into the new array that is built by the filter method.</p> <p><strong>arr.toSorted(func)</strong> calls the same function once for each item in the array, just like <code>forEach</code>. Each call to <code>toSorted</code>'s function will be passed <strong>TWO</strong> items from the original array to compare. The function needs to return a positive integer, a negative integer, or a zero. Based on the numeric return values, the toSorted method decides on the order for the items in the new copy of the array that it creates.</p> <p><strong>arr.some(func)</strong> calls the same function once for each item in the array, just like <code>forEach</code>. The function will be passed the same three parameters. Each call to the function needs to return a truthy or falsey value. As soon as one call returns a truthy value, the calls to the function stop and the some method returns true.</p> <p><strong>arr.every(func)</strong> calls the same function once for each item in the array, just like <code>forEach</code>. The function will be passed the same three parameters. It is similar to the <code>some</code> method. Each call to the function needs to return a truthy or falsey value. The <code>every</code> method will keep calling the function until the first falsey return. If all the calls return a truthy value, then the <code>every</code> method returns true.</p> <p><strong>arr.includes(value)</strong> accepts a value instead of a function. It will search through the array and return true or false depending on whether or not it finds that value in the array values. This will not search inside objects, if the array is a list of objects. It only does a primitive comparison with <code>===</code>.</p> <p><strong>arr.find(func)</strong> calls the same function once for each item in the array, just like <code>forEach</code>. The function will be passed the same three parameters. The purpose of the method is to find an object from the original array that meets some criteria that we pick. As soon as the function returns true for the first time, we will be passed a reference to that item from the original array.</p> <p><strong>arr.findIndex(func)</strong> calls the same function once for each item in the array, just like <code>forEach</code>. The function will be passed the same three parameters. This method works the same as the <code>find</code> method except that it returns the index number for the matching item, instead of the item itself.</p> <h2 id="destructuring"><a href="#destructuring" class="header-anchor">#</a> Destructuring</h2> <p>Destructuring is a fairly recent addition to JavaScript. While it doesn't give us a new feature or create functionality that could not be achieved before destructuring existed, it does let us write code in a more efficient way.</p> <p>A good example can be seen when working with the Array methods like <code>map()</code>. Let's take the following snippet as our original version. We are looping through an array of user data. Let's say that each user has 20 properties but we only want three of them - id, name, and email. Additionally, we want to rename the name property as fullname.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> users <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> user<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token literal-property property">fullname</span><span class="token operator">:</span> user<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token literal-property property">email</span><span class="token operator">:</span> user<span class="token punctuation">.</span>email <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Not a difficult function to write or read. We are even using an arrow function to improve the readability.</p> <p>With destructuring we can extract the properties that we want in place of where we write <code>user</code> as the function parameter.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> users <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> email <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">,</span> <span class="token literal-property property">fullname</span><span class="token operator">:</span> name<span class="token punctuation">,</span> email <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The new version creates a local variable for each of the three user properties that we want to extract. The variable names have to match the names of the properties being extracted from each user object. Then we return a new object with the object shorthand syntax. <code>id</code> and <code>email</code> are the name and value of two of the new object properties. The renamed property needs the new name as well as the variable for the value.</p> <p>We can use destructuring for Objects and Arrays to skip the extra step of declaring local variables in our functions.</p> <p>You can read more <a href="https://mad9014.github.io/f2024/modules/browser-js/week13/destructure/#destructuring" target="_blank" rel="noopener noreferrer">about Destructuring in the mad9014 notes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="optional-chaining"><a href="#optional-chaining" class="header-anchor">#</a> Optional Chaining</h2> <p>One of the common errors that you can get when you are writing JavaScript is <code>Uncaught TypeError: Cannot read properties of null</code> or <code>VM549:1 Uncaught TypeError: Cannot read properties of undefined</code>. This message means that you were trying to access a property or method of an object that JavaScript did not recognize. So, the object is seen as <code>null</code> or <code>undefined</code>.</p> <p>The error could be created by a line like this:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> currentHTML <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'blah'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>document</code> exists, so that part is fine, and it has a method called <code>querySelector()</code>. So, that part is fine too. However, there is no HTML element called <code>blah</code>, so that object will not be a valid element. When you try to access <code>textContent</code> of <code>null</code> or <code>undefined</code>, you get an Error.</p> <p><strong>optional chaining</strong> is a way to avoid these kinds of error. When you are using dot notation and have a chain of properties or methods, you can add the <code>?</code> operator after each object.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> currentHTML <span class="token operator">=</span> document<span class="token operator">?.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'blah'</span><span class="token punctuation">)</span><span class="token operator">?.</span>innerHTML<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The above line of code, using optional chaining, will do the following:</p> <p>Check if <code>document</code> is not nullish. If it is nullish then jump to the next line. If <code>document</code> was not nullish, then run the <code>querySelector</code> method on <code>document</code> and check the result. If the result of <code>querySelector</code> is not nullish then continue and access the <code>innerHTML</code> property. If the result of <code>querySelector</code> is nullish then jump to the next line of code. If the <code>innerHTML</code> property is reached, then the new value will be assigned to it.</p> <p>It is important to note that optional chaining only works on the <strong>right</strong> side of the equal sign. We can use it to determine WHAT we are assigning to a variable, not to determine if something exists before assigning a value to it.</p> <p>However, if you want to call a method, you can use optional chaining as part of that.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myObj<span class="token operator">?.</span>listOfItems<span class="token operator">?.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//check if myObj exists</span>
<span class="token comment">//check if listOfItems exists inside myObj</span>
<span class="token comment">//then call the sort() method on the array in listOfItems.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>Nullish means the value is either <code>null</code> or <code>undefined</code>.</p></blockquote> <h2 id="nullish-coalescing-operator"><a href="#nullish-coalescing-operator" class="header-anchor">#</a> Nullish Coalescing Operator</h2> <p>The nullish coalescing operator is <code>??</code>. We can use it as a quick check to see if a value is null or undefined. This is different than falsey values. Falsey also includes <code>empty string</code>, <code>NaN</code>, <code>0</code>, and <code>false</code>.</p> <div title="nullish coalescing operator" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/onVLVOP7-gI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <p>When you want to check if a value is nullish and then provide a default value in those cases, then we can use nullish coalescing assignment operator.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John Doe'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">'johndoe@example.com'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

user<span class="token punctuation">.</span>id <span class="token operator">=</span> user<span class="token punctuation">.</span>id <span class="token operator">??</span> crypto<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//version 1 using nullish coalescing operator</span>
user<span class="token punctuation">.</span>id <span class="token operator">??=</span> crypto<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//version 2 using nullish coalescing assignment operator</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>The two commands at the bottom of the sample above, do the exact same thing. They check if user.id is nullish, and if it is then generate a new UUID and assign that to the <code>user.id</code> property.</p> <div title="nullish coalescing assignment" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/uJ9ylqqDuTI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="object-creation-and-prototypes"><a href="#object-creation-and-prototypes" class="header-anchor">#</a> Object Creation and Prototypes</h2> <p>In JavaScript, everything that can be held in a variable is either a Primitive value or an Object. So, if it is not just a value like a String, Number, Boolean, null, undefined, BigInt, or Symbol,
then it is automatically an Object.</p> <p>Objects are created by a constructor function, like these.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Some things, like <code>Array</code> and <code>Object</code> also have a literal version. You can literally write the contents of the object and it will be passed internally to the constructor function.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  <span class="token literal-property property">alive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'this is an object literal'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Adesh'</span><span class="token punctuation">,</span> <span class="token string">'Tim'</span><span class="token punctuation">,</span> <span class="token string">'Tony'</span><span class="token punctuation">,</span> <span class="token string">'Steve'</span><span class="token punctuation">,</span> <span class="token string">'Array literal'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>When you need to create your own Objects then you can do it with an Object literal. The keys must all be Strings. The values can be anything you want - Primitive values or other objects.</p> <p>When you add a Primitive value to an object, you are always getting a copy of that value assigned to the key. If you add an object as the value, you don't get a copy of the object, you get a reference to the object.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> prog <span class="token operator">=</span> <span class="token string">'MAD&amp;D'</span><span class="token punctuation">;</span> <span class="token comment">//primitive on Stack</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">program</span><span class="token operator">:</span> prog<span class="token punctuation">,</span> <span class="token comment">//Primitive string copied and stored inside obj, on heap</span>
  <span class="token literal-property property">instructors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Steve'</span><span class="token punctuation">,</span> <span class="token string">'Nehmat'</span><span class="token punctuation">,</span> <span class="token string">'Tim'</span><span class="token punctuation">,</span> <span class="token string">'Tony'</span><span class="token punctuation">,</span> <span class="token string">'Tilan'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">//the array is stored separately in the heap</span>
  <span class="token comment">//obj.instructors is just a reference to the Array.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div title="deep vs shallow copies" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/duyshh9Fs1U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <div title="weak references" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/8B514jlvkqE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h3 id="prototypes"><a href="#prototypes" class="header-anchor">#</a> Prototypes</h3> <p>When you build your own type of Object, you are building on top of the capabilities of the <code>Object</code> object. Your own object will automatically have access to all the properties and methods from
<code>Object</code>.</p> <p>These shared properties are stored inside of an object called the <code>prototype</code>.</p> <p>The <code>prototype</code> object is connected to the constructor function that was used to create your object.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//the constructor method used to make `obj`</span>
<span class="token comment">//creating an instance of `Object`</span>
Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//calling the method `hasOwn` which already exists inside of the prototype of every Object instance</span>
<span class="token comment">//hasOwn() is inside of Object.prototype</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>When you call <code>Object.hasOwn()</code>, the JavaScript engine will look to see if there is a method called <code>hasOwn</code> attached directly to the function called <code>Object</code>. If it is not there, then it looks inside of <code>Object.prototype</code>. If it wasn't found there then it would try to work its way up the prototype chain. However, above <code>Object.prototype</code>, there is only <code>null</code>. That is the end of the prototype chain. So, if the JavaScript engine is walking up the chain and makes it to <code>Object.prototype</code> without finding the method or property that you were trying to reference, then you will get an Error.</p> <p>If you want to add new functionality (a new method) to all instances of an Object type, then you can add a property to that prototype. Say you wanted all Arrays to be able to log the word <code>Array</code> by calling a method
named <code>whatru</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//add the method to Array.prototype object</span>
<span class="token comment">//the key is `whatru` and the value is the function</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">whatru</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Array'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//this is an instance of Array. So, it has access to Array.prototype</span>
arr<span class="token punctuation">.</span><span class="token function">whatru</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//output: `Array`</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>There is a prototype chain in JavaScript. When you try to call a method on an object, JavaScript looks inside that object for a method with a matching name. If found, it runs the method. If not found,
it will search up the prototype chain until it reaches the top of the chain, which is the <code>null</code> value. If it reaches the <code>null</code> without finding the property, this is when an error is created and
thrown.</p> <p>Here are a couple examples of possible searches for a property in an object, following the prototype chain.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Array instance accessing prop =&gt; Array.prototype =&gt; Object.prototype =&gt; null
MyObject instance accessing prop =&gt; MyObject.prototype =&gt; Object.prototype =&gt; null
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Notice that the last two are always <code>Object.prototype</code> and <code>null</code>.</p> <div title="Visually understanding Prototypes" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/01jVgCK-HX4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h3 id="testing-for-object-properties"><a href="#testing-for-object-properties" class="header-anchor">#</a> Testing for Object Properties</h3> <p>If we need to know whether a call to a method or property will actually work, there is a simple approach with the <code>in</code> keyword. This will let you know if the property or method exists ANYWHERE in the prototype chain above your object. In the following example, the first line is checking if the <code>toString</code> method is accessible <strong>in</strong> the prototype chain starting with <code>Object</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'toString'</span> <span class="token keyword">in</span> Object<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>Object<span class="token punctuation">,</span> <span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The second line is using the <code>hasOwn</code> method, which does NOT check the prototype chain. It only looks directly inside of the object specified. We get the result <code>false</code> because the <code>toString</code> method is not attached to <code>Object</code>. It is actually inside of <code>Object.prototype</code>. So, the following version does return <code>true</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="approaches-to-object-creation-in-js"><a href="#approaches-to-object-creation-in-js" class="header-anchor">#</a> Approaches to Object Creation in JS</h3> <p>Beyond Object literals and calls to <code>new Object()</code>, there are also other ways to create objects in JavaScript.</p> <p>The <code>Object constructor</code> and <code>Object literal</code> were already discussed above.</p> <p>There is also an <code>Object.create()</code> method which was introduced in ES 5, before the class syntax as a way to standardize working with prototypes. This approach lets you manage the <strong>property descriptors</strong> too. The property descriptors are properties about each object property that control if they are readonly, or have a default value, or can perform validation or formatting on the values of the properties.</p> <p>You can use basic functions with the <code>new</code> keyword or factory functions to create your objects. See the video below for more details on these approaches.</p> <p>A more common way recently is using the JavaScript <code>class</code> syntax. It looks like classes in other programming languages but really is just creating the same objects and prototypes as the other approaches. It is referred to as syntactic sugar when a feature is designed to look like something else.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyObject</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//function called when you use `new MyObject()`</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>You will learn more about JS Classes in <a href="/w2025/modules/hybrids/js-classes.html">the Hybrid portion of the course</a>.</p> <div title="Creating JS Objects" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/UrM9xgPxq1E" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="todo-this-week"><a href="#todo-this-week" class="header-anchor">#</a> ToDo This Week</h2> <div class="custom-block danger"><p class="custom-block-title">To Do this week</p> <ul><li>read all the content for modules 1.1 and 1.2</li> <li>start reading the Hybrid content and review the 2 Hybrid exercises.</li> <li>The Hybrid Quiz about JavaScript classes must be taken by the end of week 2.</li> <li>Watch the <a href="https://www.youtube.com/watch?v=2sQ9xiEAXNo" target="_blank" rel="noopener noreferrer">YouTube Fetch Video<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as review</li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/10/2025, 5:01:48 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/w2025/modules/pwas/week1/1.1/" class="prev">
        1.1: Course Intro &amp; Review
      </a></span> <span class="next"><a href="/w2025/modules/pwas/week2/2.1/">
        2.1: Single Page Applications
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/w2025/assets/js/app.87c858a9.js" defer></script><script src="/w2025/assets/js/2.ccdb61a5.js" defer></script><script src="/w2025/assets/js/33.3dc1268c.js" defer></script><script src="/w2025/assets/js/9.01890ce5.js" defer></script><script src="/w2025/assets/js/11.5fe5a40b.js" defer></script>
  </body>
</html>
