<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>10.2 Conditional Rendering, Data, and State | MAD9022</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" type="image/svg" href="/w2025/assets/javascript.svg">
    <link rel="shortcut icon" type="image/svg" href="/w2025/assets/javascript.svg">
    <meta name="description" content="Fullstack: Frontend Development Course">
    
    <link rel="preload" href="/w2025/assets/css/0.styles.33415ee0.css" as="style"><link rel="preload" href="/w2025/assets/js/app.87c858a9.js" as="script"><link rel="preload" href="/w2025/assets/js/2.ccdb61a5.js" as="script"><link rel="preload" href="/w2025/assets/js/41.61991e2b.js" as="script"><link rel="preload" href="/w2025/assets/js/9.01890ce5.js" as="script"><link rel="preload" href="/w2025/assets/js/11.5fe5a40b.js" as="script"><link rel="prefetch" href="/w2025/assets/js/10.3e691a48.js"><link rel="prefetch" href="/w2025/assets/js/12.f49551e7.js"><link rel="prefetch" href="/w2025/assets/js/13.d5974a84.js"><link rel="prefetch" href="/w2025/assets/js/14.32f7e6e8.js"><link rel="prefetch" href="/w2025/assets/js/15.0ae027c8.js"><link rel="prefetch" href="/w2025/assets/js/16.f2386a1e.js"><link rel="prefetch" href="/w2025/assets/js/17.d7b9d534.js"><link rel="prefetch" href="/w2025/assets/js/18.7c15b945.js"><link rel="prefetch" href="/w2025/assets/js/19.51980183.js"><link rel="prefetch" href="/w2025/assets/js/20.d519c082.js"><link rel="prefetch" href="/w2025/assets/js/21.362f6b8c.js"><link rel="prefetch" href="/w2025/assets/js/22.afaf2123.js"><link rel="prefetch" href="/w2025/assets/js/23.cdc2c887.js"><link rel="prefetch" href="/w2025/assets/js/24.9b75b7c6.js"><link rel="prefetch" href="/w2025/assets/js/25.e357a328.js"><link rel="prefetch" href="/w2025/assets/js/26.6e814142.js"><link rel="prefetch" href="/w2025/assets/js/27.106c07bd.js"><link rel="prefetch" href="/w2025/assets/js/28.126c37bf.js"><link rel="prefetch" href="/w2025/assets/js/29.ca946c51.js"><link rel="prefetch" href="/w2025/assets/js/3.05989ff3.js"><link rel="prefetch" href="/w2025/assets/js/30.2ba498f6.js"><link rel="prefetch" href="/w2025/assets/js/31.e41d2241.js"><link rel="prefetch" href="/w2025/assets/js/32.cfce5625.js"><link rel="prefetch" href="/w2025/assets/js/33.3dc1268c.js"><link rel="prefetch" href="/w2025/assets/js/34.a3793153.js"><link rel="prefetch" href="/w2025/assets/js/35.ab1290f2.js"><link rel="prefetch" href="/w2025/assets/js/36.3d9064e0.js"><link rel="prefetch" href="/w2025/assets/js/37.2ae4164b.js"><link rel="prefetch" href="/w2025/assets/js/38.195bef2c.js"><link rel="prefetch" href="/w2025/assets/js/39.a9904a96.js"><link rel="prefetch" href="/w2025/assets/js/4.79533d7f.js"><link rel="prefetch" href="/w2025/assets/js/40.1c93503b.js"><link rel="prefetch" href="/w2025/assets/js/42.87d5cabf.js"><link rel="prefetch" href="/w2025/assets/js/43.d8a479ef.js"><link rel="prefetch" href="/w2025/assets/js/44.8446907e.js"><link rel="prefetch" href="/w2025/assets/js/45.d1e73d03.js"><link rel="prefetch" href="/w2025/assets/js/46.14dd0c4d.js"><link rel="prefetch" href="/w2025/assets/js/47.6eae941d.js"><link rel="prefetch" href="/w2025/assets/js/48.4b257292.js"><link rel="prefetch" href="/w2025/assets/js/49.7c622f43.js"><link rel="prefetch" href="/w2025/assets/js/5.60adfd1c.js"><link rel="prefetch" href="/w2025/assets/js/50.5cc4788b.js"><link rel="prefetch" href="/w2025/assets/js/51.345ce69e.js"><link rel="prefetch" href="/w2025/assets/js/52.59f792c0.js"><link rel="prefetch" href="/w2025/assets/js/53.9344eea4.js"><link rel="prefetch" href="/w2025/assets/js/6.96402398.js"><link rel="prefetch" href="/w2025/assets/js/7.956989e6.js"><link rel="prefetch" href="/w2025/assets/js/8.62f5a92b.js">
    <link rel="stylesheet" href="/w2025/assets/css/0.styles.33415ee0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/w2025/" class="home-link router-link-active"><img src="/w2025/mad-d-logo-sm.png" alt="MAD9022" class="logo"> <span class="site-name can-hide">MAD9022</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/w2025/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/w2025/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/w2025/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/w2025/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/w2025/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/w2025/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hybrid</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PWA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/w2025/modules/react/week9/9.1/" class="sidebar-link">9.1: React Concepts</a></li><li><a href="/w2025/modules/react/week9/9.2/" class="sidebar-link">9.2: React Setup</a></li><li><a href="/w2025/modules/react/week10/10.1/" class="sidebar-link">10.1: JSX &amp; Components</a></li><li><a href="/w2025/modules/react/week10/10.2/" aria-current="page" class="active sidebar-link">10.2: Conditional Rendering, Data, and State</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/w2025/modules/react/week10/10.2/#components-from-data" class="sidebar-link">Components From Data</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/react/week10/10.2/#conditional-rendering" class="sidebar-link">Conditional Rendering</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/react/week10/10.2/#components-with-state" class="sidebar-link">Components with State</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/react/week10/10.2/#state-and-hooks" class="sidebar-link">State and Hooks</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/react/week10/10.2/#usestate" class="sidebar-link">useState</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/react/week10/10.2/#useeffect" class="sidebar-link">useEffect</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/react/week10/10.2/#component-classes" class="sidebar-link">Component Classes</a></li><li class="sidebar-sub-header"><a href="/w2025/modules/react/week10/10.2/#what-to-do-this-week" class="sidebar-link">What to do this week</a></li></ul></li><li><a href="/w2025/modules/react/week11/11.1/" class="sidebar-link">11.1: Synthetic Events and Props</a></li><li><a href="/w2025/modules/react/week11/11.2/" class="sidebar-link">11.2: Refs, Axios, Fetch, and Spinners</a></li><li><a href="/w2025/modules/react/week12/12.1/" class="sidebar-link">12.1: React Navigation</a></li><li><a href="/w2025/modules/react/week12/12.2/" class="sidebar-link">12.2: React Hooks and Context</a></li><li><a href="/w2025/modules/react/week13/13.1/" class="sidebar-link">13.1: React Styling and Tailwind</a></li><li><a href="/w2025/modules/react/week13/13.2/" class="sidebar-link">13.2: Pair Programming</a></li><li><a href="/w2025/modules/react/week14/14.1/" class="sidebar-link">14.1: React Server Components</a></li><li><a href="/w2025/modules/react/week14/14.2/" class="sidebar-link">14.2: React Project</a></li><li><a href="/w2025/modules/react/week15/" class="sidebar-link">15: React Project</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title blue">
    React
  </div> <h1>10.2 Conditional Rendering, Data, and State</h1> <div class="underdev no">Module Still Under Development</div></header> <h2 id="components-from-data"><a href="#components-from-data" class="header-anchor">#</a> Components From Data</h2> <p>We have already discussed the concept of state-driven UIs. So, let's look next at how we can generate content in React from Data.</p> <p>Starting with the example from last week:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//this file is /src/components/list.js</span>
<span class="token keyword">import</span> ListItem <span class="token keyword">from</span> <span class="token string">'./listitem.js'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">UserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Sheldon'</span><span class="token punctuation">,</span> <span class="token string">'Georgie'</span><span class="token punctuation">,</span> <span class="token string">'MeeMaw'</span><span class="token punctuation">,</span> <span class="token string">'Missy'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token string">&quot;Sheldon&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;Sheldon&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token string">&quot;Georgie&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;Georgie&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token string">&quot;MeeMaw&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;MeeMaw&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ListItem key<span class="token operator">=</span><span class="token string">&quot;Missy&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;Missy&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UserList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>In this example we are hard coding four <code>&lt;ListItem/&gt;</code> components because there are 4 items in the users array. Instead, we should use an Array <code>map</code> method.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//the current file is /src/components/list.js</span>
<span class="token keyword">import</span> ListItem <span class="token keyword">from</span> <span class="token string">'./listitem.js'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">UserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Sheldon'</span><span class="token punctuation">,</span> <span class="token string">'Georgie'</span><span class="token punctuation">,</span> <span class="token string">'MeeMaw'</span><span class="token punctuation">,</span> <span class="token string">'Missy'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> items <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>ListItem name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span><span class="token punctuation">{</span>items<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UserList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Here, we are creating an array called items that will have four <code>&lt;ListItem&gt;</code> components, that each have name and key props with the values from the <code>users</code> array.</p> <p>We could have put the <code>users.map()</code> inside the return statement, between the <code>&lt;ul&gt;&lt;/ul&gt;</code> JSX wrapped in <code>{}</code> as an expression. That would be valid too.</p> <div class="custom-block tip"><p class="custom-block-title">Keys are Required</p> <p>When you have more than one React component of the same type that share the same parent element, then you must always use a <code>key</code> attribute so React can differentiate between them.</p> <p>Each <code>key</code> must have a unique value.</p></div> <p>This gives us components that are built from data. However, we still have no way to easily update the components if the data changes. That means we need <code>state</code>.</p> <div title="Arrays to components in React" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/eCbB2lJnRUc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <p><a href="https://react.dev/learn/rendering-lists" target="_blank" rel="noopener noreferrer">Guide to rendering lists in React<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>When we are writing vanilla JS, we are avoiding calling <code>append()</code>, <code>appendChild()</code> or <code>innerHTML</code> while inside a loop. We don't want to force the browser to redraw the page repeatedly.</p> <p>React is doing this for us automatically. A function component has a return value which will be a block of JSX. That block of JSX is used to update the virtual DOM. At that point when the actual DOM is updated is in the hands of React and its internal process.</p> <p>With React, we are never making direct updates to the actual DOM. We are building a virtual DOM tree with JSX. The return values from the component functions add to and update the virtual DOM tree. Updates to state values trigger calling component functions and updating the tree.</p> <p><a href="https://react.dev/learn/understanding-your-ui-as-a-tree" target="_blank" rel="noopener noreferrer">How React builds the virtual DOM tree<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="conditional-rendering"><a href="#conditional-rendering" class="header-anchor">#</a> Conditional Rendering</h2> <p>Conditional Rendering is how we can dynamically change whether components are rendered or if they are rendered with different data. This was mentioned already last week but it important enough to go into more detail.</p> <p>Because we can embed expressions inside our JSX we can control the rendering process.</p> <p>A few key things to remember:</p> <ul><li>A function can have multiple <code>return</code> statements and only the first one reached will run.</li> <li>Curly braces are to denote expressions in JSX, so we need to avoid them in our returned expressions. For this reason, logical short-circuiting, ternary operators, and nullish operators are best.</li> <li>If you do use an <code>if else</code> statement, then do it outside the return statement.</li></ul> <p>Here are a few samples:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SomeComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//short-circuiting based on a prop value</span>
  <span class="token comment">//only one thing to render.</span>
  <span class="token comment">//deciding if you want to render it.</span>
  <span class="token comment">//typically used inside the return</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>alive <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SomeComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//ternary operator to choose which component to render</span>
  <span class="token comment">//choosing between two components or expressions</span>
  <span class="token comment">//used inside or outside the return</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>alive <span class="token operator">?</span> <span class="token operator">&lt;</span>ComponentA <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token operator">&lt;</span>ComponentB <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">SomeComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//nullish assignment and then using the result</span>
  <span class="token comment">//usually used before the return</span>
  <span class="token comment">//handles props that are null or undefined</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> props<span class="token punctuation">.</span>name <span class="token operator">??</span> <span class="token string">'Default name'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ComponentA name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="components-with-state"><a href="#components-with-state" class="header-anchor">#</a> Components with State</h2> <p>When you create a component from a function it will be, by default, <code>stateless</code>. That just means it has no data that is being watched for updates and changes.</p> <p>To create a <code>state</code> value to be watched, inside your component function, we use a <strong>hook</strong> function called <code>useState</code>. We call the function and pass it a default value for the state object. It returns an array that contains the current value of the <code>state</code> object PLUS the method that you will call any time you want to change the <code>state</code> object.</p> <p>We call the <code>useState</code> function from inside our component function.</p> <p>The convention to use when naming the variable and update function is to use a descriptive word for the variable and the same word with <code>set</code> in front of it as the function name.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//props are passed in from the parent component</span>
  <span class="token keyword">let</span> stateStuff <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//stateStuff is an Array that holds the state variable and the state update function</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> stateStuff<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> setName <span class="token operator">=</span> stateStuff<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>The above example will work. However, it has three lines of code that could be reduced to a single line if we use destructuring.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//exact same result but in one line of code.</span>
  <span class="token comment">//passing the state value to a child component through props</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ChildComponent name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>For each object or value that you want to put into state you will call <code>useState</code>.</p> <p>If you have a child component that needs access to the value of the state variable then we use <code>props</code> to pass it down from parent to child.</p> <div class="custom-block tip"><p class="custom-block-title">Where to Place State Variables</p> <p>When creating your state variables you can put them in every component, you can put them all in one component.</p> <p>The key is to look at where the state data needs to be shared. Which components need the values? Then go to the first parent that will encompass all the components using that data and put the call to
<code>useState</code> there.</p></div> <p>Remember, that with React, you are generally building a Single Page Application. <code>State</code> variables are client-side data objects that are used within the context of a single page to control what data is displayed inside each component.</p> <p>When a user navigates to a new page, the components will be replaced and rebuilt, and along with the new components will be new state variables and new values.</p> <h2 id="state-and-hooks"><a href="#state-and-hooks" class="header-anchor">#</a> State and Hooks</h2> <p>The whole purpose of us creating <code>state</code> variables instead of regular variables, is to let React update the interface any time the value of the variables changes.</p> <p>We use the <code>useState</code> hook to both create the variable and the function that is to be used to change the value of the variable.</p> <p>The last two versions of React have supported a feature called <code>hooks</code>. <code>hooks</code> get used with functional components to &quot;hook&quot; into the component lifecycle (as well as other React features). Components are created and rendered and updated and removed. These steps and the acknowledgement of when those things are about to happen make up the component lifecycle. The old class-based components from earlier versions of React actually had methods that you would add inside the <code>class</code>es that are named after the lifecycle steps.</p> <p>In function-based components there are no lifecycle methods. Instead we use <code>hooks</code>.</p> <p>The purpose of the component lifecycle is to monitor the values of <code>state</code> and <code>prop</code> values, insert the values into the interface, and update the interface when the values change.</p> <p>To use any of the <code>hooks</code>, we need to import them.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="usestate"><a href="#usestate" class="header-anchor">#</a> useState</h2> <p>The purpose of the <code>useState</code> hook is purely to create state variables and the function that you will use to update their value.</p> <p>You can call <code>useState</code> as many times as you need. Each time you call it, you will be creating a new array containing a variable and a function.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>When calling the <code>useState</code> method, there are different things that you can pass in as arguments.</p> <p>If you pass in a primitive value, like in the example above, or an Array or Object, then this will become the default value of the variable returned to the destructured Array (<code>name</code> or <code>email</code>).</p> <p>If you pass a function to the <code>useState</code> method then that function will be run only on the initial render of the state value for the interface.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> setKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> id <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> id<span class="token punctuation">;</span>
  <span class="token comment">//id is returned as the first value in the Array that useState returns</span>
  <span class="token comment">//the setKey method will be created by useState</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div title="Hooks and useState" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/UtP0h4x_Zxs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="useeffect"><a href="#useeffect" class="header-anchor">#</a> useEffect</h2> <p>The <code>useEffect</code> hook is used to run functions either on initial render of the component OR on intial render AND every update.</p> <p>If you want to do something asynchronous like <code>fetch</code> or <code>indexedDB</code> or <code>localStorage</code> or <code>cache</code> then inside the <code>useEffect</code> hook is where you call these.</p> <p><code>useState</code> and <code>useEffect</code> are frequently used together. <code>useState</code> creates a state variable with a default value of <code>null</code> or an empty Array. Then <code>useEffect</code> will call the asynchronous method(s) to get the actual value for the state variable, and finally call the <code>set</code> method to update the state variable.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>people<span class="token punctuation">,</span> setPeople<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//create an empty array that will be filled with data later on</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//initiate a fetch to get the people data</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span>someURL<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setPeople</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>people<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setPeople</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Unable to load people'</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//if you return a function it will be run if/when the component is removed</span>
      <span class="token comment">//If the useEffect is called based on a dependency change,</span>
      <span class="token comment">// then it gets called using the old state value, before the useEffect function runs</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//having an empty array means run this function only on initial render</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token punctuation">(</span>people<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>No people<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> <span class="token operator">:</span> people<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token punctuation">{</span>person<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>The <code>useEffect</code> method has a function to run as its first argument.</p> <p>There is also a second argument. If left empty, the <code>useEffect</code> method will call the function on initial render plus any time any state or prop value is changed.</p> <p>If the second argument is an empty array, it means only call the <code>useEffect</code> method function on the initial render.</p> <p>If you want the <code>useEffect</code> function to be called when specific prop or state values are updated then place them inside the second argument array.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//function to run on initial render</span>
  <span class="token comment">//plus when the props.name variable,</span>
  <span class="token comment">//or the state variables key or num are changed</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>props<span class="token punctuation">.</span>name<span class="token punctuation">,</span> key<span class="token punctuation">,</span> num<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div title="Hooks and useEffect" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/vSDzqFq_voE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <div title="useEffect Cleanup functions and scroll restoration" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/m3vnm3rFr9o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; fullscreen" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="component-classes"><a href="#component-classes" class="header-anchor">#</a> Component Classes</h2> <div class="custom-block danger"><p class="custom-block-title">Watch Out</p> <p>🔥⚠️☣️☢️ <strong>Avoid</strong> examples with classes.</p></div> <p>Just as a reminder, from 2015 - 2019, React Components were built with the JavaScript Class syntax. They relied on &quot;lifecycle&quot; events and methods to track when components were loaded, updated, or removed.</p> <p>This approach still works but is considered out of date and no longer a best practice. You will, if you work on many existing React projects, likely encounter class-based React components. So, it is good to understand the differences between function and class-based components.</p> <p>Avoid code samples that have:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//this is where we find the passed in props</span>
  <span class="token comment">//and create state variables</span>
<span class="token punctuation">}</span>
<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//runs once the component has rendered for the first time</span>
<span class="token punctuation">}</span>
<span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//change made to props or state triggers this</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//the render function is like the return value from our Component function</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>The old component classes use the lifecycle methods <code>componentDidMount</code>, <code>componentDidUpdate</code>, and others. The function components use hooks instead of the lifecycle methods.</p> <h2 id="what-to-do-this-week"><a href="#what-to-do-this-week" class="header-anchor">#</a> What to do this week</h2> <div class="custom-block warning"><p class="custom-block-title">TODO Things to do before next week.</p> <ul><li>Read all the content from <code>Modules 10.1, 10.2, and 11.1</code>.</li> <li>Continue watching the <a href="https://www.youtube.com/watch?v=IkkzjbdIOBM&amp;list=PLyuRouwmQCjmMfs-HOsDGoaN6JiYrC6Ms" target="_blank" rel="noopener noreferrer">React in 2021 Video Tutorial Playlist<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Submit Hybrid 3 <code>Lit</code> exercise.</li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/9/2025, 7:19:04 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/w2025/modules/react/week10/10.1/" class="prev">
        10.1: JSX &amp; Components
      </a></span> <span class="next"><a href="/w2025/modules/react/week11/11.1/">
        11.1: Synthetic Events and Props
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/w2025/assets/js/app.87c858a9.js" defer></script><script src="/w2025/assets/js/2.ccdb61a5.js" defer></script><script src="/w2025/assets/js/41.61991e2b.js" defer></script><script src="/w2025/assets/js/9.01890ce5.js" defer></script><script src="/w2025/assets/js/11.5fe5a40b.js" defer></script>
  </body>
</html>
